name: NPM Publish

on:
  issues:
    types:
      - opened

jobs:
  npm-publish:
    runs-on: ubuntu-latest
    name: Publish NPM package
    steps:
        - name: Checkout repository
          uses: actions/checkout@v4
  
        - name: Get current package.json version
          if: contains(github.event.issue.labels.*.name, 'npm/publish')
          run: |
            VERSION=$(jq -r .version package.json)
            echo "The current version in package.json is $VERSION"
